"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[952],{27363:function(H,S){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};S.Z=e},54547:function(H,S,e){e.r(S),e.d(S,{default:function(){return De}});var L=e(15009),t=e.n(L),x=e(99289),P=e.n(x),T=e(5574),j=e.n(T),M=e(68400),N=e.n(M),Z=e(8166),$=e(97857),I=e.n($),y=e(52677),b=e.n(y),z=e(80854);function m(U,r){return F.apply(this,arguments)}function F(){return F=P()(t()().mark(function U(r,i){var h;return t()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return h=new FormData,Object.keys(r).forEach(function(E){var o=r[E];o!=null&&(b()(o)==="object"&&!(o instanceof File)?o instanceof Array?o.forEach(function(K){return h.append(E,K||"")}):h.append(E,JSON.stringify(o)):h.append(E,o))}),C.abrupt("return",(0,z.request)("/api/common/upload",I()({method:"POST",data:h,requestType:"form"},i||{})));case 3:case"end":return C.stop()}},U)})),F.apply(this,arguments)}var J=e(90319),re=e(88484),_=e(14726),R=e(98138),O=e(2453),te=e(41972),se=e(24311),le=e(72708),X=e(7134),f=e(67294),Q=e(4393),oe=e(78957),ie=e(87547),D=e(1413),de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8 7-8.5 14.5-16.7 22.4-24.5 32.6-32.5 70.5-58.1 112.7-75.9 43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 01520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 01270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 010 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z"}}]},name:"login",theme:"outlined"},ue=de,W=e(91146),ce=function(r,i){return f.createElement(W.Z,(0,D.Z)((0,D.Z)({},r),{},{ref:i,icon:ue}))},ve=f.forwardRef(ce),me=ve,fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar-circle",theme:"outlined"},he=fe,pe=function(r,i){return f.createElement(W.Z,(0,D.Z)((0,D.Z)({},r),{},{ref:i,icon:he}))},ge=f.forwardRef(pe),je=ge,Pe=e(27363),Ce=function(r,i){return f.createElement(W.Z,(0,D.Z)((0,D.Z)({},r),{},{ref:i,icon:Pe.Z}))},Ee=f.forwardRef(Ce),ye=Ee,a=e(85893),Oe=Q.Z.Meta,Ue=function(r){var i=r.avatar,h=r.name,A=r.score,C=r.onSignIn,E=r.onRecharge,o=r.onEditProfile;return(0,a.jsxs)(Q.Z,{hoverable:!0,style:{width:300,textAlign:"center"},cover:(0,a.jsx)(X.C,{size:100,src:i,icon:(0,a.jsx)(ie.Z,{}),style:{margin:"20px auto"}}),children:[(0,a.jsx)(Oe,{title:h,description:"Score: ".concat(A),style:{marginBottom:20}}),(0,a.jsxs)(oe.Z,{direction:"vertical",size:"middle",style:{width:"100%"},children:[(0,a.jsx)(_.ZP,{type:"primary",icon:(0,a.jsx)(me,{}),onClick:C,children:"Sign In"}),(0,a.jsx)(_.ZP,{type:"primary",icon:(0,a.jsx)(je,{}),onClick:E,children:"Recharge Score"}),(0,a.jsx)(_.ZP,{type:"primary",icon:(0,a.jsx)(ye,{}),onClick:o,children:"Edit Profile"})]})]})},Se=Ue,g={container:"container___p1Ig1",content:"content___sSATF",modal:"modal___MycwO",modalContent:"modalContent___B6rbP",avatarUpload:"avatarUpload___U66BX",avatar:"avatar___u4hWN",uploadButton:"uploadButton___pKfld",modalActions:"modalActions___cs75L",cancelButton:"cancelButton___AeDiq",saveButton:"saveButton___gi6vw"},Ze=e(15437),Y,ze=(0,Ze.ZP)(_.ZP)(Y||(Y=N()([`
  background: linear-gradient(90deg, #6a11cb 0%, #2575fc 100%);
  border: none;
  color: #fff;
  font-weight: 500;
  transition: all 0.3s ease;

  &:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }
`]))),_e=function(){var r,i,h,A,C=R.Z.useForm(),E=j()(C,1),o=E[0],K=(0,f.useState)(!1),k=j()(K,2),Ae=k[0],B=k[1],Ie=(0,f.useState)(),q=j()(Ie,2),s=q[0],be=q[1],Me=(0,f.useState)(),ee=j()(Me,2),V=ee[0],Re=ee[1],Be=(0,f.useState)(),ae=j()(Be,2),G=ae[0],Le=ae[1],w=function(){var u=P()(t()().mark(function l(){var d,c,v,n;return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,Promise.all([(0,J.as)(),(0,Z.J)()]);case 3:d=p.sent,c=j()(d,2),v=c[0],n=c[1],v.data?be(v):O.ZP.error(v.message),n.data?Re(n):O.ZP.error(n.message),p.next=14;break;case 11:throw p.prev=11,p.t0=p.catch(0),new Error(p.t0);case 14:case"end":return p.stop()}},l,null,[[0,11]])}));return function(){return u.apply(this,arguments)}}();(0,f.useEffect)(function(){w()},[]);var xe=function(){var u=P()(t()().mark(function l(){var d;return t()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,Z.L)();case 2:d=v.sent,d.data==="Sign-in successful"?(w(),O.ZP.success(d.data)):O.ZP.error(d.message);case 4:case"end":return v.stop()}},l)}));return function(){return u.apply(this,arguments)}}(),Te=function(){O.ZP.info("Coming soon")},Ne=function(){var l;B(!0),o.setFieldsValue({userName:s==null||(l=s.data)===null||l===void 0?void 0:l.userName})},ne=function(){var u=P()(t()().mark(function l(){var d,c;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,d={userAvatar:G,userName:o.getFieldValue("userName")},n.next=4,(0,J.WR)(d);case 4:c=n.sent,c.data?(O.ZP.success("Saved successfully!"),w(),B(!1)):O.ZP.error(c.message),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new Error(n.t0);case 11:case"end":return n.stop()}},l,null,[[0,8]])}));return function(){return u.apply(this,arguments)}}(),$e=function(){var u=P()(t()().mark(function l(d){var c;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m(d);case 3:c=n.sent,c.data&&Le(c.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error in handleAvatarChange:",n.t0);case 10:case"end":return n.stop()}},l,null,[[0,7]])}));return function(d){return u.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:g.container,children:[(0,a.jsx)("div",{className:g.content,children:(0,a.jsx)(Se,{avatar:s==null||(r=s.data)===null||r===void 0?void 0:r.userAvatar,name:s==null||(i=s.data)===null||i===void 0?void 0:i.userName,score:V==null?void 0:V.data,onSignIn:xe,onRecharge:Te,onEditProfile:Ne})}),(0,a.jsx)(te.Z,{title:"Edit Profile",visible:Ae,onOk:ne,onCancel:function(){return B(!1)},className:g.modal,footer:null,children:(0,a.jsxs)("div",{className:g.modalContent,children:[(0,a.jsxs)(R.Z,{form:o,layout:"vertical",children:[(0,a.jsx)(R.Z.Item,{label:"Nickname",name:"userName",children:(0,a.jsx)(se.Z,{})}),(0,a.jsx)(R.Z.Item,{label:"Avatar",children:(0,a.jsx)(le.Z,{showUploadList:!1,beforeUpload:function(){return!1},onChange:$e,className:g.avatarUpload,children:s!=null&&(h=s.data)!==null&&h!==void 0&&h.userAvatar?(0,a.jsx)(X.C,{size:80,src:G||(s==null||(A=s.data)===null||A===void 0?void 0:A.userAvatar),className:g.avatar}):(0,a.jsxs)("div",{className:g.uploadButton,children:[(0,a.jsx)(re.Z,{}),(0,a.jsx)("div",{children:"Upload"})]})})})]}),(0,a.jsxs)("div",{className:g.modalActions,children:[(0,a.jsx)(_.ZP,{onClick:function(){return B(!1)},className:g.cancelButton,children:"Cancel"}),(0,a.jsx)(_.ZP,{onClick:ne,type:"primary",className:g.saveButton,children:"Save"})]})]})})]})},De=_e},8166:function(H,S,e){e.d(S,{J:function(){return $},L:function(){return N}});var L=e(15009),t=e.n(L),x=e(97857),P=e.n(x),T=e(99289),j=e.n(T),M=e(80854);function N(y){return Z.apply(this,arguments)}function Z(){return Z=j()(t()().mark(function y(b){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,M.request)("/api/score/checkIn",P()({method:"POST"},b||{})));case 1:case"end":return m.stop()}},y)})),Z.apply(this,arguments)}function $(y){return I.apply(this,arguments)}function I(){return I=j()(t()().mark(function y(b){return t()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,M.request)("/api/score/get",P()({method:"GET"},b||{})));case 1:case"end":return m.stop()}},y)})),I.apply(this,arguments)}}}]);
